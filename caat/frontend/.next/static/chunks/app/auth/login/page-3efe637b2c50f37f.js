(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[859],{8116:(e,t,r)=>{Promise.resolve().then(r.bind(r,3289))},3289:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(5155),a=r(2115),l=r(5565),n=r(6046);function o(){let e=(0,n.useRouter)(),[t,r]=(0,a.useState)(null),[o,i]=(0,a.useState)(null),c=async t=>{t.preventDefault();let s=t.target,a=s.email.value,l=s.password.value;try{let t=await fetch("https://caat-projectapp.onrender.com/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,password:l})});if(!t.ok){let e=await t.json();throw Error(e.message||"Login failed")}let s=await t.json();localStorage.setItem("token",s.token),r("Login successful!"),i(null),setTimeout(()=>{e.push("/dashboard")},2e3)}catch(e){console.error("Error:",e),r(null),i(e instanceof Error?e.message:"An unexpected error occurred.")}};return(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:(0,s.jsxs)("div",{className:"flex flex-col items-center w-full",children:[(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsx)(l.default,{src:"/logo.png",alt:"CAAT Logo",width:300,height:300})}),(0,s.jsxs)("div",{className:"bg-red-500 p-6 rounded-md shadow-lg w-full max-w-md",children:[(0,s.jsx)("h1",{className:"text-center text-2xl font-semibold text-white mb-4",children:"Login"}),t&&(0,s.jsx)("p",{className:"text-center text-sm text-green-700 mb-4",children:t}),o&&(0,s.jsx)("p",{className:"text-center text-sm text-red-700 mb-4",children:o}),(0,s.jsxs)("form",{onSubmit:c,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm text-white",children:"Email"}),(0,s.jsx)("input",{type:"email",id:"email",name:"email",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm text-white",children:"Password"}),(0,s.jsx)("input",{type:"password",id:"password",name:"password",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,s.jsx)("button",{type:"submit",className:"w-full bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700 transition",children:"Login"})]}),(0,s.jsxs)("p",{className:"text-center text-sm mt-4 text-white",children:["Donâ€™t have an account?"," ",(0,s.jsx)("a",{href:"/auth/register",className:"text-black hover:underline",children:"Register"})]})]})]})})}},5565:(e,t,r)=>{"use strict";r.d(t,{default:()=>a.a});var s=r(4146),a=r.n(s)},6046:(e,t,r)=>{"use strict";var s=r(6658);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},4146:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return i},getImageProps:function(){return o}});let s=r(306),a=r(666),l=r(7970),n=s._(r(5514));function o(e){let{props:t}=(0,a.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let i=l.Image}},e=>{var t=t=>e(e.s=t);e.O(0,[970,441,517,358],()=>t(8116)),_N_E=e.O()}]);